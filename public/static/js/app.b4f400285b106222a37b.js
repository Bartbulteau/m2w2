webpackJsonp([1],{"7lYz":function(t,e){},AX4U:function(t,e){},Hbdz:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),a={name:"NavBar",data:function(){return{}},methods:{openMenu:function(){console.log("open menu"),this.$router.push({path:"/"})},openAdd:function(){console.log("open add"),this.$router.push({path:"/add"})},openSettings:function(){this.$router.push({path:"/settings"})}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"NavBar"}},[n("div",{staticClass:"navbar-fixed"},[n("nav",{staticClass:"nav-extended blue"},[t._m(0),t._v(" "),n("div",{staticClass:"nav-content"},[n("ul",{staticClass:"tabs tabs-transparent"},[n("li",{staticClass:"tab",attrs:{id:"home"}},[n("a",{attrs:{href:"#"},on:{click:function(e){t.openMenu()}}},[t._v("Home")])]),t._v(" "),n("li",{staticClass:"tab"},[n("a",{attrs:{href:"#"},on:{click:function(e){t.openAdd()}}},[t._v("Add")])])])])])]),t._v(" "),n("br"),n("br"),n("br")])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav-wrapper"},[e("a",{staticClass:"brand-logo center",attrs:{href:"#"}},[this._v("M2W beta")]),this._v(" "),e("ul",{staticClass:"right"},[e("li",[e("a",{attrs:{href:"http://m2w2.herokuapp.com/settings"}},[e("i",{staticClass:"material-icons"},[this._v("settings")])])])])])}]};var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"Footer"}},[e("footer",{staticClass:"page-footer blue"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col s12"},[e("h5",{staticClass:"white-text"},[this._v("M2W")]),this._v(" "),e("p",{staticClass:"grey-text text-lighten-4"},[this._v('"Message to the world" is an open \n                        platform where anyone can post \n                        a message that anybody will be able to see. This website is hosted on Heroku and uses Vue JS for the front-end\n                        and Express JS for the back end. You can find the source code on Github (see the link below).')])])])]),this._v(" "),e("div",{staticClass:"footer-copyright"},[e("div",{staticClass:"container"},[this._v("\n                © 2018 Copyright Barthélémy Bulteau\n                "),e("a",{staticClass:"grey-text text-lighten-4 right",attrs:{href:"#!"}},[this._v("GitHub "),e("i",{staticClass:"fa fa-github",attrs:{"aria-hidden":"true"}})])])])])])}]};var o={name:"App",data:function(){return{messages:[]}},components:{NavBar:n("VU/8")(a,r,!1,function(t){n("Ta0g")},"data-v-0f49258c",null).exports,Footer:n("VU/8")({name:"Footer",data:function(){return{}},methods:{}},i,!1,function(t){n("7lYz")},"data-v-50844e21",null).exports}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("NavBar"),this._v(" "),e("router-view"),this._v(" "),e("Footer")],1)},staticRenderFns:[]};var u,p,d,l=n("VU/8")(o,c,!1,function(t){n("xwjd")},null,null).exports,h=n("/ocq"),f=n("Xxa5"),v=n.n(f),m=n("exGp"),g=n.n(m),_=n("mtWM"),b=n.n(_).a.create({baseURL:"https://m2w2.herokuapp.com/api/"}),x=(u=g()(v.a.mark(function t(){var e;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.get("messages").then(function(t){e=t.data}).catch(function(t){alert(t)});case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}},t,this)})),function(){return u.apply(this,arguments)}),w=(p=g()(v.a.mark(function t(e){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.post("message",e).then(function(t){n=t.data}).catch(function(t){alert(t)});case 2:return t.abrupt("return",n);case 3:case"end":return t.stop()}},t,this)})),function(t){return p.apply(this,arguments)}),C=(d=g()(v.a.mark(function t(e){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.delete("message/"+e).then(function(t){n=t.data}).catch(function(t){alert(t)});case 2:return t.abrupt("return",n);case 3:case"end":return t.stop()}},t,this)})),function(t){return d.apply(this,arguments)}),k={name:"Menu",data:function(){return{}},sockets:{update:function(){this.updateMessages()}},computed:{messages:function(){return this.$parent.messages},reversed:function(){return this.messages.reverse()}},methods:{updateMessages:function(){var t=g()(v.a.mark(function t(){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x();case 2:this.$parent.messages=t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},created:function(){var t=this;return g()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t.$parent.messages=e.sent;case 3:case"end":return e.stop()}},e,t)}))()}},$={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Menu"},[n("div",{staticClass:"container"},[n("h3",[t._v("Messages")]),t._v(" "),t._l(t.reversed,function(e,s){return n("blockquote",{key:s},[n("p",[t._v(t._s(e.content))]),t._v(" "),n("p",[n("strong",[t._v("- "+t._s(e.author))])])])})],2)])},staticRenderFns:[]};var y=n("VU/8")(k,$,!1,function(t){n("Hbdz")},"data-v-7f4405d3",null).exports,M={name:"Add",data:function(){return{msg:{content:"",author:""}}},methods:{sendMsg:function(){var t=g()(v.a.mark(function t(){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""===this.msg.content||""===this.msg.author){t.next=10;break}return t.next=3,w(this.msg);case 3:this.$parent.messages=t.sent,this.msg.content="",this.msg.author="",this.$socket.emit("new_message"),this.$router.push({path:"/"}),t.next=11;break;case 10:alert("No field can stay empty !");case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},A={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Add"},[n("div",{staticClass:"container"},[n("h3",[t._v("Add your own message")]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"input-field col s10 offset-s1"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.msg.content,expression:"msg.content"}],staticClass:"materialize-textarea",attrs:{id:"textarea1"},domProps:{value:t.msg.content},on:{input:function(e){e.target.composing||t.$set(t.msg,"content",e.target.value)}}}),t._v(" "),n("label",{attrs:{for:"textarea1"}},[t._v("Message")])]),t._v(" "),n("div",{staticClass:"input-field col s10 offset-s1"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.msg.author,expression:"msg.author"}],staticClass:"autocomplete",attrs:{type:"text",id:"autocomplete-input"},domProps:{value:t.msg.author},on:{input:function(e){e.target.composing||t.$set(t.msg,"author",e.target.value)}}}),t._v(" "),n("label",{attrs:{for:"autocomplete-input"}},[t._v("Author")])])]),t._v(" "),n("button",{staticClass:"btn waves-effect waves-light",attrs:{type:"submit"},on:{click:function(e){t.sendMsg()}}},[t._v("\n                Send\n                "),n("i",{staticClass:"material-icons right"},[t._v("send")])])]),t._v(" "),n("br"),n("br"),n("br")])},staticRenderFns:[]};var N=n("VU/8")(M,A,!1,function(t){n("Xf7/")},"data-v-20d1c99e",null).exports,F={name:"Admin",data:function(){return{}},methods:{remove:function(){var t=g()(v.a.mark(function t(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e);case 2:this.$parent.messages=t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),backToMenu:function(){this.$router.push({path:"/"}),this.$socket.emit("new_message")}},computed:{messages:function(){return this.$parent.messages},reversed:function(){return this.messages.reverse()}},created:function(){var t=this;return g()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t.$parent.messages=e.sent;case 3:case"end":return e.stop()}},e,t)}))()}},U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Admin"},[n("div",{staticClass:"container"},[n("h3",[t._v("Admin\n            "),n("button",{staticClass:"btn",on:{click:function(e){t.backToMenu()}}},[t._v("Done")])]),t._v(" "),t._l(t.reversed,function(e,s){return n("blockquote",{key:s},[n("p",[t._v(t._s(e.content))]),t._v(" "),n("p",[n("strong",[t._v("- "+t._s(e.author))])]),t._v(" "),n("button",{staticClass:"btn red",on:{click:function(n){t.remove(e._id)}}},[t._v("Remove")])])})],2)])},staticRenderFns:[]};var E=n("VU/8")(F,U,!1,function(t){n("AX4U")},"data-v-034a043a",null).exports;s.a.use(h.a);var R=new h.a({routes:[{path:"/",name:"Menu",component:y},{path:"/add",name:"Add",component:N},{path:"/secret/admin",name:"Admin",component:E}],scrollBehavior:function(t,e,n){return{x:0,y:0}}}),B=n("hMcO"),H=n.n(B);n("X0eL"),n("U54J"),n("voNp");s.a.use(H.a,"https://m2w2.herokuapp.com/"),s.a.config.productionTip=!1,new s.a({el:"#app",router:R,components:{App:l},template:"<App/>"})},Ta0g:function(t,e){},X0eL:function(t,e){},"Xf7/":function(t,e){},voNp:function(t,e){},xwjd:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.b4f400285b106222a37b.js.map